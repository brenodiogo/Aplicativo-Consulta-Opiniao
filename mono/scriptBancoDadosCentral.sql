-- Database generated with pgModeler (PostgreSQL Database Modeler).
-- pgModeler  version: 0.7.0
-- PostgreSQL version: 9.3
-- Project Site: pgmodeler.com.br
-- Model Author: Breno Diogo de Carvalho Camargos

SET check_function_bodies = false;
-- ddl-end --


-- Database creation must be done outside an multicommand file.
-- These commands were put in this file only for convenience.
-- -- object: bdCentral | type: DATABASE --
-- -- DROP DATABASE bdCentral;
-- CREATE DATABASE bdCentral
-- ;
-- -- ddl-end --
-- 

-- object: USUARIO | type: TABLE --
-- DROP TABLE USUARIO;
CREATE TABLE USUARIO(
	CPF character(11) NOT NULL,
	NOME character(50),
	EMAIL character(50),
	SENHA character(20),
	CONSTRAINT rpkUsuario PRIMARY KEY (CPF)

);
-- ddl-end --
-- object: AVALIACAO | type: TABLE --
-- DROP TABLE AVALIACAO;
CREATE TABLE AVALIACAO(
	ID integer,
	CPF character(11),
	CODIGO integer,
	AVALIACAO double precision
);
-- ddl-end --
-- object: TIPOAVALIACAO | type: TABLE --
-- DROP TABLE TIPOAVALIACAO;
CREATE TABLE TIPOAVALIACAO(
	CODAVALIACAO integer,
	DESCRICAO character(250),
	TIPO integer,
	CONSTRAINT rpkTIPOAVALIACAO PRIMARY KEY (CODAVALIACAO)

);
-- ddl-end --
-- object: ESTABELECIMENTO | type: TABLE --
-- DROP TABLE ESTABELECIMENTO;
CREATE TABLE ESTABELECIMENTO(
	ID integer,
	TIPO integer,
	NOME character(50),
	LATITUDE double precision,
	LONGITUDE double precision,
	CONSTRAINT rpkESTABELECIMENTO PRIMARY KEY (ID)

);
-- ddl-end --
-- object: TIPOESTABELECIMENTO | type: TABLE --
-- DROP TABLE TIPOESTABELECIMENTO;
CREATE TABLE TIPOESTABELECIMENTO(
	TIPO integer,
	DESCRICAO character(50),
	CONSTRAINT rpkTIPOESTABELECIMENTO PRIMARY KEY (TIPO)

);
-- ddl-end --
-- object: rfkUSUARIO | type: CONSTRAINT --
-- ALTER TABLE AVALIACAO DROP CONSTRAINT rfkUSUARIO;
ALTER TABLE AVALIACAO ADD CONSTRAINT rfkUSUARIO FOREIGN KEY (CPF)
REFERENCES USUARIO (CPF) MATCH FULL
ON DELETE NO ACTION ON UPDATE NO ACTION;
-- ddl-end --


-- object: rfkCODIGO | type: CONSTRAINT --
-- ALTER TABLE AVALIACAO DROP CONSTRAINT rfkCODIGO;
ALTER TABLE AVALIACAO ADD CONSTRAINT rfkCODIGO FOREIGN KEY (CODIGO)
REFERENCES TIPOAVALIACAO (CODAVALIACAO) MATCH FULL
ON DELETE NO ACTION ON UPDATE NO ACTION;
-- ddl-end --


-- object: rfkESTABELECIMENTO | type: CONSTRAINT --
-- ALTER TABLE AVALIACAO DROP CONSTRAINT rfkESTABELECIMENTO;
ALTER TABLE AVALIACAO ADD CONSTRAINT rfkESTABELECIMENTO FOREIGN KEY (ID)
REFERENCES ESTABELECIMENTO (ID) MATCH FULL
ON DELETE NO ACTION ON UPDATE NO ACTION;
-- ddl-end --


-- object: rfkTipoEstabelecimento | type: CONSTRAINT --
-- ALTER TABLE TIPOAVALIACAO DROP CONSTRAINT rfkTipoEstabelecimento;
ALTER TABLE TIPOAVALIACAO ADD CONSTRAINT rfkTipoEstabelecimento FOREIGN KEY (TIPO)
REFERENCES TIPOESTABELECIMENTO (TIPO) MATCH FULL
ON DELETE NO ACTION ON UPDATE NO ACTION;
-- ddl-end --


-- object: rfkTIPOESTABELECIMENTO | type: CONSTRAINT --
-- ALTER TABLE ESTABELECIMENTO DROP CONSTRAINT rfkTIPOESTABELECIMENTO;
ALTER TABLE ESTABELECIMENTO ADD CONSTRAINT rfkTIPOESTABELECIMENTO FOREIGN KEY (TIPO)
REFERENCES TIPOESTABELECIMENTO (TIPO) MATCH FULL
ON DELETE NO ACTION ON UPDATE NO ACTION;
-- ddl-end --



INSERT INTO TIPOESTABELECIMENTO (TIPO, DESCRICAO) VALUES (1, 'Escola');
INSERT INTO TIPOESTABELECIMENTO (TIPO, DESCRICAO) VALUES (2, 'Hospital');

INSERT INTO ESTABELECIMENTO (ID, TIPO, NOME, LATITUDE, LONGITUDE) VALUES (1, 1, 'Centro de Ensino Medio Asa Norte', -15.767938, -47.874228);
INSERT INTO ESTABELECIMENTO (ID, TIPO, NOME, LATITUDE, LONGITUDE) VALUES (2, 1, 'Centro de Ensino Medio Elefante Branco', -15.808065, -47.909539);
INSERT INTO ESTABELECIMENTO (ID, TIPO, NOME, LATITUDE, LONGITUDE) VALUES (3, 1, 'Centro Educacional 01 do Cruzeiro', -15.7830155, -47.938376);
INSERT INTO ESTABELECIMENTO (ID, TIPO, NOME, LATITUDE, LONGITUDE) VALUES (4, 1, 'Centro Educacional 02 do Cruzeiro Novo', -15.796561, -47.938454);
INSERT INTO ESTABELECIMENTO (ID, TIPO, NOME, LATITUDE, LONGITUDE) VALUES (5, 1, 'Centro de Ensino Fundamental 04 de Brasilia', -15.827537, -47.917211);

INSERT INTO ESTABELECIMENTO (ID, TIPO, NOME, LATITUDE, LONGITUDE) VALUES (6, 2, 'Hospital Geral de Brasilia', -15.82669, -47.92002);
INSERT INTO ESTABELECIMENTO (ID, TIPO, NOME, LATITUDE, LONGITUDE) VALUES (7, 2, 'Hospital Regional da Asa Sul', -15.82382, -47.897158);
INSERT INTO ESTABELECIMENTO (ID, TIPO, NOME, LATITUDE, LONGITUDE) VALUES (8, 2, 'Hospital de Base do Distrito Federal', -15.800837, -47.888676);
INSERT INTO ESTABELECIMENTO (ID, TIPO, NOME, LATITUDE, LONGITUDE) VALUES (9, 2, 'Hospital Universitário de Brasilia', -15.772453, -47.873429);
INSERT INTO ESTABELECIMENTO (ID, TIPO, NOME, LATITUDE, LONGITUDE) VALUES (10, 2, 'Hospital Regional da Asa Norte', -15.785671, -47.882864);

INSERT INTO ESTABELECIMENTO (ID, TIPO, NOME, LATITUDE, LONGITUDE) VALUES (11, 1, 'Centro de Ensino Medio Paulo Freire', -15.75597, -47.87861); 
 

INSERT INTO TIPOAVALIACAO (CODAVALIACAO, DESCRICAO, TIPO) VALUES (1, 'Qual sua nota para o atendimento desta escola?', 1);
INSERT INTO TIPOAVALIACAO (CODAVALIACAO, DESCRICAO, TIPO) VALUES (2, 'Qual sua nota para os profissionais desta escola?', 1);
INSERT INTO TIPOAVALIACAO (CODAVALIACAO, DESCRICAO, TIPO) VALUES (3, 'Qual sua nota para a limpeza desta escola?', 1);
INSERT INTO TIPOAVALIACAO (CODAVALIACAO, DESCRICAO, TIPO) VALUES (4, 'Qual sua nota para a organização desta escola?', 1);
INSERT INTO TIPOAVALIACAO (CODAVALIACAO, DESCRICAO, TIPO) VALUES (5, 'Qual sua nota para a pontualidade dos profissionais desta escola?', 1);

INSERT INTO TIPOAVALIACAO (CODAVALIACAO, DESCRICAO, TIPO) VALUES (6, 'Qual sua nota para o atendimento deste hospital?', 2);
INSERT INTO TIPOAVALIACAO (CODAVALIACAO, DESCRICAO, TIPO) VALUES (7, 'Qual sua nota para os profissionais deste hospital?', 2);
INSERT INTO TIPOAVALIACAO (CODAVALIACAO, DESCRICAO, TIPO) VALUES (8, 'Qual sua nota para a limpeza deste hospital?', 2);
INSERT INTO TIPOAVALIACAO (CODAVALIACAO, DESCRICAO, TIPO) VALUES (9, 'Qual sua nota para a organização deste hospital?', 2);
INSERT INTO TIPOAVALIACAO (CODAVALIACAO, DESCRICAO, TIPO) VALUES (10, 'Qual sua nota para a pontualidade dos profissionais deste hospital?', 2);

INSERT INTO USUARIO (CPF, NOME, EMAIL, SENHA) VALUES ('73662550172', 'Breno', 'breno.diogo@hotmail.com', 'breno123');